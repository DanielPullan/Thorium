var formatGoogleCalendar=function(){"use strict";var a,b=function(b){var d=[];a=b;var e=b.calendarUrl;b.recurringEvents&&(e=e.concat("&singleEvents=true")),jQuery.getJSON(e,function(a){a.items.forEach(function(b){b&&b.hasOwnProperty("status")&&"cancelled"!==b.status&&d.push(b)}),d.sort(c).reverse();var n,e=0,h=0,i=[],j=[],k=[],l=jQuery(b.upcomingSelector),m=jQuery(b.pastSelector);b.pastTopN===-1&&(b.pastTopN=d.length),b.upcomingTopN===-1&&(b.upcomingTopN=d.length),b.past===!1&&(b.pastTopN=0),b.upcoming===!1&&(b.upcomingTopN=0);for(n in d)g(d[n].end.dateTime||d[n].end.date)?e<b.pastTopN&&(i.push(d[n]),e++):k.push(d[n]);k.reverse();for(n in k)h<b.upcomingTopN&&(j.push(k[n]),h++);for(n in i)m.append(f(i[n],b.itemsTagName,b.format));for(n in j)l.append(f(j[n],b.itemsTagName,b.format));0!==l.children().length&&jQuery(b.upcomingHeading).insertBefore(l),0!==m.children().length&&jQuery(b.pastHeading).insertBefore(m)})},c=function(a,b){return new Date(a.start.dateTime||a.start.date).getTime()-new Date(b.start.dateTime||b.start.date).getTime()},d=function(a,b){var d,c={};for(d in a)c[d]=a[d];for(d in b)c[d]=b[d];return c},e=function(a,b){var c=l(a),d=l(b);return c.getTime()===d.getTime()-864e5&&0===c.getMinutes()&&0===c.getHours()},f=function(b,c,d){var f=h(b.start.dateTime||b.start.date),g=h(b.end.dateTime||b.end.date),i="undefined"!=typeof b.end.date,j=a.dayNames,k=e(f,g);i&&(g=m(g)),k&&(g=n(g));var s,l=t(f,g,i,k,j),o="<"+c+">",p=b.summary||"",q=b.description||"",r=b.location||"";for(s=0;s<d.length;s++)d[s]=d[s].toString(),"*summary*"===d[s]?o=o.concat('<span class="summary">'+p+"</span>"):"*date*"===d[s]?o=o.concat('<span class="date">'+l+"</span>"):"*description*"===d[s]?o=o.concat('<span class="description">'+q+"</span>"):"*location*"===d[s]?o=o.concat('<span class="location">'+r+"</span>"):("*location*"===d[s+1]&&""!==r||"*summary*"===d[s+1]&&""!==p||"*date*"===d[s+1]&&""!==l||"*description*"===d[s+1]&&""!==q)&&(o=o.concat(d[s]));return o+"</"+c+">"},g=function(a){var b=new Date(a),c=new Date;return c.getTime()>b.getTime()},h=function(a){return a=new Date(a),[a.getDate(),a.getMonth(),a.getFullYear(),a.getHours(),a.getMinutes(),0,0]},i=function(a){var b=["January","February","March","April","May","June","July","August","September","October","November","December"];return b[a]},j=function(a){var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return b[a]},k=function(a){return j(l(a).getDay())+" "},l=function(a){return new Date(a[2],a[1],a[0],a[3],a[4]+0,0)},m=function(a){var b=l(a);return b.setTime(b.getTime()-864e5),h(b)},n=function(a){var b=l(a);return b.setTime(b.getTime()-6e4),h(b)},o=function(b,c,d,e,f){var g="",h="";return f&&(h=k(b)),!a.sameDayTimes||d||e||(g=" from "+u(b)+" - "+u(c)),h+i(b[1])+" "+b[0]+", "+b[2]+g},q=function(a,b,c){var d="",e="";return c&&(d=k(a),e=k(b)),d+i(a[1])+" "+a[0]+"-"+e+b[0]+", "+a[2]},r=function(a,b,c){var d="",e="";return c&&(d=k(a),e=k(b)),d+i(a[1])+" "+a[0]+"-"+e+i(b[1])+" "+b[0]+", "+a[2]},s=function(a,b,c){var d="",e="";return c&&(d=k(a),e=k(b)),d+i(a[1])+" "+a[0]+", "+a[2]+"-"+e+i(b[1])+" "+b[0]+", "+b[2]},t=function(a,b,c,d,e){var f="";return f=a[0]===b[0]?a[1]===b[1]?a[2]===b[2]?o(a,b,c,d,e):s(a,b,e):a[2]===b[2]?r(a,b,e):s(a,b,e):a[1]===b[1]?a[2]===b[2]?q(a,b,e):s(a,b,e):a[2]===b[2]?r(a,b,e):s(a,b,e)},u=function(a){var b="",c="AM",d=a[3],e=a[4];return d>=12&&(c="PM",d>=13&&(d-=12)),0===d&&(d=12),e=(e<10?"0":"")+e,b=d+":"+e+c};return{init:function(a){var c={calendarUrl:"https://www.googleapis.com/calendar/v3/calendars/milan.kacurak@gmail.com/events?key=AIzaSyCR3-ptjHE-_douJsn8o20oRwkxt-zHStY",past:!0,upcoming:!0,sameDayTimes:!0,dayNames:!0,pastTopN:-1,upcomingTopN:-1,recurringEvents:!0,itemsTagName:"li",upcomingSelector:"#events-upcoming",pastSelector:"#events-past",upcomingHeading:"<h2>Upcoming events</h2>",pastHeading:"<h2>Past events</h2>",format:["*date*",": ","*summary*"," &mdash; ","*description*"," in ","*location*"]};c=d(c,a),b(c)}}}();